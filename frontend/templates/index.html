{% extends "base.html" %}

{% block title %}Fashion AI - Akıllı Moda Önerileri{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="gradient-text">Yapay Zeka ile</span><br>
                        Moda Önerileri
                    </h1>
                    <p class="hero-subtitle">
                        Fotoğrafınızı yükleyin, AI teknolojisi ile kıyafetlerinizi analiz edelim ve size benzer ürünler önerelim.
                    </p>
                    <div class="hero-features">
                        <span class="feature-badge">
                            <i class="bi bi-eye"></i>
                            YOLO Tespit
                        </span>
                        <span class="feature-badge">
                            <i class="bi bi-search"></i>
                            CLIP Benzerlik
                        </span>
                        <span class="feature-badge">
                            <i class="bi bi-lightning"></i>
                            Anında Sonuç
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Upload Section -->
<div class="upload-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="upload-container glass-card">
                    <!-- Upload Area -->
                    <div id="upload-area" class="upload-area">
                        <div class="upload-content">
                            <div class="upload-icon">
                                <i class="bi bi-cloud-arrow-up"></i>
                            </div>
                            <h3 class="upload-title">Fotoğrafınızı Yükleyin</h3>
                            <p class="upload-subtitle">
                                Dosyayı buraya sürükleyin veya <span class="text-primary fw-semibold">tıklayarak seçin</span>
                            </p>
                            <div class="upload-formats">
                                <span>JPG, PNG, WEBP</span>
                                <span class="mx-2">•</span>
                                <span>Maksimum 10MB</span>
                            </div>
                            <input type="file" id="file-input" class="d-none" accept="image/*">
                            <button class="btn-upload" onclick="document.getElementById('file-input').click()">
                                <i class="bi bi-folder2-open me-2"></i>
                                Dosya Seç
                            </button>
                        </div>
                    </div>

                    <!-- Preview Section -->
                    <div id="preview-section" class="preview-section d-none">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="preview-container">
                                    <h5 class="section-title">
                                        <i class="bi bi-image me-2"></i>
                                        Yüklenen Görsel
                                    </h5>
                                    <div class="image-preview">
                                        <img id="preview-image" alt="Preview">
                                        <div class="image-overlay">
                                            <button class="btn-overlay" onclick="document.getElementById('file-input').click()">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="analysis-panel">
                                    <h5 class="section-title">
                                        <i class="bi bi-cpu me-2"></i>
                                        AI Analizi
                                    </h5>
                                    <div class="analysis-steps">
                                        <div class="step" id="step-upload">
                                            <div class="step-icon completed">
                                                <i class="bi bi-check-lg"></i>
                                            </div>
                                            <div class="step-content">
                                                <h6>Görsel Yüklendi</h6>
                                                <p>Dosya başarıyla alındı</p>
                                            </div>
                                        </div>
                                        <div class="step" id="step-detect">
                                            <div class="step-icon">
                                                <i class="bi bi-search"></i>
                                            </div>
                                            <div class="step-content">
                                                <h6>Obje Tespiti</h6>
                                                <p>YOLO ile kıyafet analizi</p>
                                            </div>
                                        </div>
                                        <div class="step" id="step-search">
                                            <div class="step-icon">
                                                <i class="bi bi-collection"></i>
                                            </div>
                                            <div class="step-content">
                                                <h6>Benzer Ürün Arama</h6>
                                                <p>CLIP ile benzerlik analizi</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="action-buttons">
                                        <button id="analyze-btn" class="btn-primary">
                                            <span id="analyze-spinner" class="spinner d-none"></span>
                                            <i class="bi bi-play-fill me-2"></i>
                                            Analizi Başlat
                                        </button>
                                        <button id="cancel-btn" class="btn-secondary">
                                            <i class="bi bi-x-lg me-2"></i>
                                            İptal
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div id="progress-section" class="progress-section d-none">
                        <div class="progress-container">
                            <div class="progress-header">
                                <h5 id="progress-title">Analiz Ediliyor...</h5>
                                <span id="progress-percentage">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="progress-bar"></div>
                            </div>
                            <p id="progress-description" class="progress-description">
                                Görsel işleniyor ve AI modeli çalışıyor...
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="features-section">
    <div class="container">
        <div class="row justify-content-center text-center mb-5">
            <div class="col-lg-8">
                <h2 class="section-heading">Nasıl Çalışır?</h2>
                <p class="section-subheading">
                    Gelişmiş AI teknolojileri kullanarak moda analizinizi üç adımda tamamlıyoruz
                </p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-cloud-upload"></i>
                    </div>
                    <h4>1. Yükle</h4>
                    <p>Kıyafetlerinizin fotoğrafını yükleyin. JPG, PNG veya WEBP formatlarını destekliyoruz.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-robot"></i>
                    </div>
                    <h4>2. Analiz Et</h4>
                    <p>YOLO ile obje tespiti ve CLIP ile görsel özellik çıkarımı yapılır.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-stars"></i>
                    </div>
                    <h4>3. Keşfet</h4>
                    <p>Benzer ürünleri keşfedin ve moda ilhamınızı bulun.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Enhanced upload functionality will be added to app.js
</script>
{% endblock %}